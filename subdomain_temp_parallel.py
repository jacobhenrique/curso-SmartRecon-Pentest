#!/usr/bin/env python3

import xml.etree.ElementTree as ET
import sys
import datetime
import socket
import requests
import subprocess
import os
import uuid
import shutil
import json
import time
from time import strftime
from pathlib import Path


target = sys.argv[1]
domain = sys.argv[2]

def parallel():
    os.system('rm -rf /docker/data/teste/temp/subdomain_parallel_temp.log')
    with open('/docker/data/teste/'+target+'/subdomain_parallel_temp.log','a') as file:
        file.write('python3 python3 Modulo6_parse_assetfinder_temp.py'+target+''+domain+'\n')
        file.write('python3 python3 Modulo6_parse_subfindertemp.py'+target+''+domain+'\n')
        file.write('python3 python3 Modulo6_parse_sublist3rtemp.py'+target+''+domain+'\n')
    print("[+] PROCESSANDO SUBDOMAIN \n")
    os.system('cat /docker/data/'+target+'/temp/subdomain_parallel_temp.log | parallel -u')

def main():
    parallel()

if __name__=='__main__':
    main()
        
